<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FEU Roosevelt | Website Finals - Our Journey</title>
  <link rel="stylesheet" href="web.css" />
</head>
<body>

  <!-- Header section -->
  <header id="header">
    <div class="topnav">
      <div class="logo">
        <img src="pic/feu_logo.png" alt="FEU Roosevelt Logo" />
        <a href="https://feuroosevelt.edu.ph/"><h1>FEU ROOSEVELT</h1></a>
      </div>

      <!-- Main Navigation -->
      <nav>
        <a href="#home">Home</a>
        <a href="#about-us">About Us</a>
        <a href="#event">Events</a>
      </nav>
      <!-- Subnav -->
      <div class="subnav">
        <a href="../file/purposive.html">Purposive Communication</a>
        <a href="../file/pathfit.html">Pathfit</a>
        <a href="../file/computing.html">Introduction to Computing</a>
        <a href="../file/nstp.html">NSTP</a>
        <a href="../file/feurjourney.html">Feur Journey</a>
      </div>
    </div>
  </header>

  <!-- First Section -->
  <section class="backg" id="home">
    <img src="pic/hp1.jpg" alt="FEU Roosevelt Website Finals Banner" />
    <h1 class="backg-text">WEBSITE<br>FINALS</h1>
  </section>

  <!-- Second Section -->
  <section class="gallery fade-in-section">
    <div class="row">
      <div class="subj">
        <a href="file/purposive.html">
          <img src="pic/purposive.png" alt="Purposive Communication" />
        </a>
        <div class="overlay">Purposive Communication</div>
      </div>
      <div class="subj">
        <a href="file/pathfit.html">
          <img src="pic/pathfit.png" alt="Pathfit" />
        </a>
        <div class="overlay">Pathfit</div>
      </div>
      <div class="subj">
        <a href="file/computing.html">
          <img src="pic/computing.png" alt="Introduction to Computing" />
        </a>
        <div class="overlay">Introduction to Computing</div>
      </div>
    </div>
    <div class="row bottom-row">
      <div class="subj">
        <a href="file/nstp.html">
          <img src="pic/nstp.png" alt="NSTP" />
        </a>
        <div class="overlay">NSTP</div>
      </div>
      <div class="subj">
        <a href="file/feurjourney.html">
          <img src="pic/feurjourney.png" alt="Feur Journey" />
        </a>
        <div class="overlay">Feur Journey</div>
      </div>
    </div>
  </section>

  <!-- Third Section -->
  <section class="love-fullscreen fade-in-section" id="about-us">
    <div class="love-wrapper">
      <div class="love-image">
        <img src="pic/couple.png" alt="Love" />
      </div>
      <div class="love-content">
        <h1>ABOUT US</h1>
        <p>
          We, Jhun Clarence and Malla Denise, created this academic website as a first-semester project to apply our learning in web design, content organization, 
          and project management. It reflects our growth, collaboration, and shared college journey. The school logo is used only for educational purposes in compliance with project requirements.
        </p>
      </div>
    </div>
  </section>

<!-- Events Title -->
<section class="events-title fade-in-section" id="event">
  <h2 class="semester-title">First Semester Events</h2>
</section>

 <!-- Fourth Section -->
<section class="love-bottom fade-in-section">
  <h2>Moments in Motion</h2>
  <p>Relive the unforgettable moments from our first semester with these exclusive video highlights, showcasing the fun, learning, and camaraderie that defined the start of our journey.</p>
  <div class="moments">
    <div class="moment-card">
      <div class="moment-photo">
        <iframe width="560" height="315" src="https://www.youtube.com/embed/atLQMaJhk6o?si=Vz-9fkvYJj0asXIm" title="YouTube video player" 
        frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
        referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
        <div class="moment-text">Una</div>
      </div>
    </div>

    <div class="moment-card">
      <div class="moment-photo">
        <iframe width="560" height="315" src="https://www.youtube.com/embed/6Ga3PXvTCs0?si=kFwNhunVKkdVvvph" title="YouTube video player" 
        frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
        referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
        <div class="moment-text">Pangalawa</div>
      </div>
    </div>

    <div class="moment-card">
      <div class="moment-photo">
        <iframe width="560" height="315" src="https://www.youtube.com/embed/FHmCk3HxJD4?si=Zjag37Cyud1gVBrF" title="YouTube video player" 
        frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
        referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
        <div class="moment-text">Pangatlo</div>
      </div>
    </div>
  </div>
</section>

  <!-- Fifth Section -->
  <section class="orientation fade-in-section" >
    <h2> Orientation </h2>
    <p>Our school orientation warmly welcomed us as we began our academic journey. We visited important university departments like the clinic, library, 
      and IT office, and attended a separate program orientation where we met our professors. The experience helped us become more familiar with the campus, 
      understand important guidelines, and feel more prepared and excited to start college life.</p>
    <div class="orientation-grid-container">
      <div class="orientation-row top-row">
        <div class="orientation-item">
          <img src="pic/orientation1.png" alt="Orientation Image 1" />
        </div>
        <div class="orientation-item">
          <img src="pic/orientation2.png" alt="Orientation Image 2" />
        </div>
        <div class="orientation-item">
          <img src="pic/orientation3.png" alt="Orientation Image 3" />
        </div>
      </div>
      <div class="orientation-row bottom-row">
        <div class="orientation-item">
          <img src="pic/orientation4.png" alt="Orientation Image 4" />
        </div>
        <div class="orientation-item">
          <img src="pic/orientation5.png" alt="Orientation Image 5" />
        </div>
      </div>
    </div>
  </section>

  <!-- Sixth Section -->
  <section class="events-section fade-in-section" >
    <h2> Sinag Tams</h2>
    <p>This was our first-ever concert at FEU Roosevelt, and it was truly a memorable experience. We had the chance to watch performances from different 
      P-pop groups and bands, especially Lola Amour, and enjoy the lively atmosphere with fellow students. Despite the rain and the long day, the energy, music, 
      and bonding made it a core memory for us, one that we will always cherish. </p>
    <div class="events-carsel">
      <button class="arrow left" aria-label="Previous event" id="eventsPrev">&#10094;</button>
      <div class="events-view" aria-hidden="false">
        <div class="events-track">
          <div class="event-card"><img src="pics/tams1.png" alt="Event 1" /></div>
          <div class="event-card"><img src="pics/tams2.png" alt="Event 2" /></div>
          <div class="event-card"><img src="pics/tams3.png" alt="Event 3" /></div>
          <div class="event-card"><img src="pics/tams4.png" alt="Event 4" /></div>
          <div class="event-card"><img src="pics/tams5.png" alt="Event 5" /></div>
          <div class="event-card"><img src="pics/tams6.png" alt="Event 6" /></div>
          <div class="event-card"><img src="pics/tams7.png" alt="Event 7" /></div>
          <div class="event-card"><img src="pics/tams8.png" alt="Event 8" /></div>
          <div class="event-card"><img src="pics/tams9.png" alt="Event 9" /></div>
          <div class="event-card"><img src="pics/tams10.png" alt="Event 10" /></div>
          <div class="event-card"><img src="pics/tams11.png" alt="Event 11" /></div>
          <div class="event-card"><img src="pics/tams12.png" alt="Event 12" /></div>
          <div class="event-card"><img src="pics/tams13.png" alt="Event 13" /></div>
          <div class="event-card"><img src="pics/tams14.png" alt="Event 14" /></div>
          <div class="event-card"><img src="pics/tams15.png" alt="Event 15" /></div>
          <div class="event-card"><img src="pics/tams16.png" alt="Event 16" /></div>
          <div class="event-card"><img src="pics/tams17.png" alt="Event 17" /></div>
          <div class="event-card"><img src="pics/tams18.png" alt="Event 18" /></div>
          <div class="event-card"><img src="pics/tams19.png" alt="Event 19" /></div>
          <div class="event-card"><img src="pics/tams20.png" alt="Event 20" /></div>
          <div class="event-card"><img src="pics/tams21.png" alt="Event 21" /></div>
          <div class="event-card"><img src="pics/tams22.png" alt="Event 22" /></div>
          <div class="event-card"><img src="pics/tams23.png" alt="Event 23" /></div>
          <div class="event-card"><img src="pics/tams24.png" alt="Event 24" /></div>
          <div class="event-card"><img src="pics/tams25.png" alt="Event 25" /></div>
        </div>
      </div>

      <div class="zoom-overlay" id="zoomOverlay">
        <img src="/placeholder.svg" alt="Zoomed Event" id="zoomImage">
      </div>
      <button class="arrow right" aria-label="Next event" id="eventsNext">&#10095;</button>
    </div>
    <div class="dots" id="eventsDots" role="tablist" aria-label="Event slides"></div>
  </section>

  <!-- Seventh Section -->
  <section class="events-section fade-in-section" >
    <h2>Halloween</h2>
    <p>The Halloween event was such a fun experience. We got to see different departments from both the Marikina and Cainta campuses, beautifully decorated with Halloween designs. 
      We also saw other students who joined the event in their creative costumes, as well as cute elementary students with their teacher going around for trick-or-treat.</p>
    <div class="events-carsel">
      <button class="arrow left" aria-label="Previous event" id="eventsPrev2">&#10094;</button>

      <div class="events-view" aria-hidden="false">
        <div class="events-track">
          <div class="event-card"><img src="pic/halloween1.png" alt="Event 1" /></div>
          <div class="event-card"><img src="pic/halloween2.png" alt="Event 2" /></div>
          <div class="event-card"><img src="pic/halloween19.png" alt="Event 3" /></div>
          <div class="event-card"><img src="pic/halloween4.png" alt="Event 4" /></div>
          <div class="event-card"><img src="pic/halloween5.png" alt="Event 5" /></div>
          <div class="event-card"><img src="pic/halloween6.png" alt="Event 6" /></div>
          <div class="event-card"><img src="pic/halloween7.png" alt="Event 7" /></div>
          <div class="event-card"><img src="pic/halloween20.png" alt="Event 8" /></div>
          <div class="event-card"><img src="pic/halloween9.png" alt="Event 9" /></div>
          <div class="event-card"><img src="pic/halloween10.png" alt="Event 10" /></div>
          <div class="event-card"><img src="pic/halloween11.png" alt="Event 11" /></div>
          <div class="event-card"><img src="pic/halloween12.png" alt="Event 12" /></div>
          <div class="event-card"><img src="pic/halloween13.png" alt="Event 13" /></div>
          <div class="event-card"><img src="pic/halloween14.png" alt="Event 14" /></div>
          <div class="event-card"><img src="pic/halloween15.png" alt="Event 15" /></div>
          <div class="event-card"><img src="pic/halloween16.png" alt="Event 16" /></div>
          <div class="event-card"><img src="pic/halloween17.png" alt="Event 17" /></div>
          <div class="event-card"><img src="pic/halloween18.png" alt="Event 18" /></div>
          <div class="event-card"><img src="pic/halloween3.png" alt="Event 19" /></div>
          <div class="event-card"><img src="pic/halloween8.png" alt="Event 20" /></div>
          <div class="event-card"><img src="pic/halloween21.png" alt="Event 21" /></div>
          <div class="event-card"><img src="pic/halloween22.png" alt="Event 22" /></div>
          <div class="event-card"><img src="pic/halloween25.png" alt="Event 23" /></div>
          <div class="event-card"><img src="pic/halloween24.png" alt="Event 24" /></div>
          <div class="event-card"><img src="pic/halloween23.png" alt="Event 25" /></div>
        </div>
      </div>

      <div class="zoom-overlay" id="zoomOverlay2">
        <img src="/placeholder.svg" alt="Zoomed Event" id="zoomImage2">
      </div>
      <button class="arrow right" aria-label="Next event" id="eventsNext2">&#10095;</button>
    </div>
    <div class="dots" id="eventsDots2" role="tablist" aria-label="Event slides"></div>
  </section>

  <!-- Eight Section -->
  <section class="events-section fade-in-section" >
    <h2>Sinag Sports</h2>
    <p>Sinag Sports was a fun and exciting event to attend. We had the chance to join the parade with our tribe, T'Boli, and proudly shout our chant together. 
      The event was not only focused on sports but also featured Mr. and Ms. Sinag Sports, along with talented songsters and dancers. Even though we weren't part of 
      the players, we still enjoyed the event as we happily cheered for our tribe.</p>
    <div class="events-carsel">
      <button class="arrow left" aria-label="Previous event" id="eventsPrev3">&#10094;</button>

      <div class="events-view" aria-hidden="false">
        <div class="events-track">
          <div class="event-card"><img src="pics/sports1.png" alt="Event 1" /></div>
          <div class="event-card"><img src="pics/sports2.png" alt="Event 2" /></div>
          <div class="event-card"><img src="pics/sports3.png" alt="Event 3" /></div>
          <div class="event-card"><img src="pics/sports4.png" alt="Event 4" /></div>
          <div class="event-card"><img src="pics/sports5.png" alt="Event 5" /></div>
          <div class="event-card"><img src="pics/sports6.png" alt="Event 6" /></div>
          <div class="event-card"><img src="pics/sports7.png" alt="Event 7" /></div>
          <div class="event-card"><img src="pics/sports8.png" alt="Event 8" /></div>
          <div class="event-card"><img src="pics/sports9.png" alt="Event 9" /></div>
          <div class="event-card"><img src="pics/sports10.png" alt="Event 10" /></div>
          <div class="event-card"><img src="pics/sports11.png" alt="Event 11" /></div>
          <div class="event-card"><img src="pics/sports12.png" alt="Event 12" /></div>
          <div class="event-card"><img src="pics/sports13.png" alt="Event 13" /></div>
          <div class="event-card"><img src="pics/sports14.png" alt="Event 14" /></div>
          <div class="event-card"><img src="pics/sports15.png" alt="Event 15" /></div>
          <div class="event-card"><img src="pics/sports16.png" alt="Event 16" /></div>
          <div class="event-card"><img src="pics/sports17.png" alt="Event 17" /></div>
          <div class="event-card"><img src="pics/sports18.png" alt="Event 18" /></div>
          <div class="event-card"><img src="pics/sports19.png" alt="Event 19" /></div>
          <div class="event-card"><img src="pics/sports20.png" alt="Event 20" /></div>
          <div class="event-card"><img src="pics/sports21.png" alt="Event 21" /></div>
          <div class="event-card"><img src="pics/sports22.png" alt="Event 22" /></div>
          <div class="event-card"><img src="pics/sports23.png" alt="Event 23" /></div>
          <div class="event-card"><img src="pics/sports24.png" alt="Event 24" /></div>
          <div class="event-card"><img src="pics/sports25.png" alt="Event 25" /></div>
        </div>
      </div>

      <div class="zoom-overlay" id="zoomOverlay3">
        <img src="/placeholder.svg" alt="Zoomed Event" id="zoomImage3">
      </div>
      <button class="arrow right" aria-label="Next event" id="eventsNext3">&#10095;</button>
    </div>
    <div class="dots" id="eventsDots3" role="tablist" aria-label="Event slides"></div>
  </section>

  <!-- Last Section -->
  <footer class="events-footer">
    <div class="event-members">
      <div class="member">
        <p><strong>Jhun Clarence R. Carcueva</strong><br>BSIT 1-3</p>
      </div>
      <div class="member">
        <p><strong>Malla Denise L. Rivera</strong><br>BSIT 1-3</p>
      </div>
    </div>
  </footer>

  <!-- JavaScript -->
  <script>
  // Smooth scroll animation for navigation links
  document.querySelectorAll('nav a').forEach(anchor => {
    anchor.addEventListener('click', function(e) {
      e.preventDefault();
      const targetId = this.getAttribute('href').substring(1);
      const targetElement = document.getElementById(targetId);

      if (targetElement) {
        // Add a subtle fade animation to the section
        targetElement.classList.add('scroll-highlight');
        targetElement.scrollIntoView({
          behavior: 'smooth',
          block: 'start'
        });

        // Remove the highlight after animation
        setTimeout(() => {
          targetElement.classList.remove('scroll-highlight');
        }, 1500);
      }
    });
  });
    (function() {
      // Carousel functionality for events section
      const prevBtn = document.getElementById('eventsPrev');
      const nextBtn = document.getElementById('eventsNext');
      const track = document.querySelector('.events-track');
      const cards = Array.from(track.children);
      const dotsContainer = document.getElementById('eventsDots');

      let itemsPerPage = 5;
      let currentPage = 0;
      let totalPages = 1;

      // Function to determine number of items per page
      function computeItemsPerPage() {
        const w = window.innerWidth;
        if (w >= 1400) return 5;  
        if (w >= 1100) return 4;  
        if (w >= 900)  return 3;  
        if (w >= 600)  return 2;  
        if (w >= 400)  return 1;  
        return 1;                 
      }

      // Calculate layout based on current screen size 
      function calculateLayout() {
        if (!cards.length) return;
        itemsPerPage = computeItemsPerPage();
        totalPages = Math.ceil(cards.length / itemsPerPage);

        if (currentPage > totalPages - 1) currentPage = totalPages - 1;
        if (currentPage < 0) currentPage = 0;

        buildDots();
        updateTrack(true);
        updateArrows();
      }

      // Build navigation dots 
      function buildDots() {
        dotsContainer.innerHTML = '';
        for (let i = 0; i < totalPages; i++) {
          const dot = document.createElement('button');
          dot.className = 'dot' + (i === currentPage ? ' active' : '');
          dot.setAttribute('aria-label', 'Go to page ' + (i + 1));
          dot.addEventListener('click', () => {
            currentPage = i;
            updateTrack();
            updateArrows();
            updateDots();
          });
          dotsContainer.appendChild(dot);
        }
      }

      // Update the active state of dots
      function updateDots() {
        const dots = Array.from(dotsContainer.children);
        dots.forEach((d, i) => d.classList.toggle('active', i === currentPage));
      }

      // Get the gap between carousel items from CSS
      function getGap() {
        const gapStr = getComputedStyle(track).gap || getComputedStyle(track).columnGap;
        return gapStr ? parseFloat(gapStr) : 20;
      }

      // Update the track position 
      function updateTrack(initial = false) {
        const startIndex = currentPage * itemsPerPage;
        let translate = 0;
        const gap = getGap();
        for (let i = 0; i < startIndex; i++) {
          const r = cards[i].getBoundingClientRect();
          translate += Math.round(r.width);
          if (i < startIndex - 1) translate += gap;
        }
        if (initial) {
          track.style.transition = 'none';
          track.style.transform = `translateX(-${translate}px)`;
          requestAnimationFrame(() => { track.style.transition = ''; });
        } else {
          track.style.transform = `translateX(-${translate}px)`;
        }
      }

      // Enable/disable navigation arrows 
      function updateArrows() {
        prevBtn.disabled = currentPage <= 0;
        nextBtn.disabled = currentPage >= totalPages - 1;
      }

      // Event for previous button
      prevBtn.addEventListener('click', () => {
        if (currentPage > 0) {
          currentPage--;
          updateTrack();
          updateArrows();
          updateDots();
        }
      });

      // Event for next button
      nextBtn.addEventListener('click', () => {
        if (currentPage < totalPages - 1) {
          currentPage++;
          updateTrack();
          updateArrows();
          updateDots();
        }
      });

      // Debounced resize event 
      window.addEventListener('resize', () => {
        clearTimeout(window._eventsResizeTimer);
        window._eventsResizeTimer = setTimeout(() => {
          const oldItems = itemsPerPage;
          const oldPage = currentPage;
          const firstItemIndex = oldPage * oldItems;
          calculateLayout();
          currentPage = Math.floor(firstItemIndex / itemsPerPage);
          updateTrack();
          updateArrows();
          updateDots();
        }, 120);
      });

      // Ensure images are loaded 
      const imgs = track.querySelectorAll('img');
      let imgsLeft = imgs.length;
      if (imgsLeft === 0) {
        calculateLayout();
      } else {
        imgs.forEach(img => {
          // force eager so they load 
          try { img.loading = 'eager'; } catch(e){}
          if (img.complete) {
            imgsLeft--;
            if (imgsLeft === 0) calculateLayout();
          } else {
            img.addEventListener('load', () => {
              imgsLeft--;
              if (imgsLeft === 0) calculateLayout();
            });
            img.addEventListener('error', () => {
              imgsLeft--;
              if (imgsLeft === 0) calculateLayout();
            });
          }
        });
        // safety on window load
        window.addEventListener('load', calculateLayout);
      }

      document.addEventListener('DOMContentLoaded', calculateLayout);
      calculateLayout();
    })();

    (function() {
      // Carousel functionality for events section 2
      const prevBtn = document.getElementById('eventsPrev2');
      const nextBtn = document.getElementById('eventsNext2');
      const track = document.querySelectorAll('.events-track')[1];
      const cards = Array.from(track.children);
      const dotsContainer = document.getElementById('eventsDots2');

      let itemsPerPage = 5;
      let currentPage = 0;
      let totalPages = 1;

      // Function to determine number of items per page 
      function computeItemsPerPage() {
        const w = window.innerWidth;
        if (w >= 1400) return 5;  
        if (w >= 1100) return 4;  
        if (w >= 900)  return 3;  
        if (w >= 600)  return 2;  
        if (w >= 400)  return 1;  
        return 1;                 
      }

      // Calculate layout based on current screen size 
      function calculateLayout() {
        if (!cards.length) return;
        itemsPerPage = computeItemsPerPage();
        totalPages = Math.ceil(cards.length / itemsPerPage);

        if (currentPage > totalPages - 1) currentPage = totalPages - 1;
        if (currentPage < 0) currentPage = 0;

        buildDots();
        updateTrack(true);
        updateArrows();
      }

      // Build navigation dots 
      function buildDots() {
        dotsContainer.innerHTML = '';
        for (let i = 0; i < totalPages; i++) {
          const dot = document.createElement('button');
          dot.className = 'dot' + (i === currentPage ? ' active' : '');
          dot.setAttribute('aria-label', 'Go to page ' + (i + 1));
          dot.addEventListener('click', () => {
            currentPage = i;
            updateTrack();
            updateArrows();
            updateDots();
          });
          dotsContainer.appendChild(dot);
        }
      }

      // Update the active state of dots
      function updateDots() {
        const dots = Array.from(dotsContainer.children);
        dots.forEach((d, i) => d.classList.toggle('active', i === currentPage));
      }

      // Get the gap between carousel items from CSS
      function getGap() {
        const gapStr = getComputedStyle(track).gap || getComputedStyle(track).columnGap;
        return gapStr ? parseFloat(gapStr) : 20;
      }

      // Update the track position 
      function updateTrack(initial = false) {
        const startIndex = currentPage * itemsPerPage;
        let translate = 0;
        const gap = getGap();
        for (let i = 0; i < startIndex; i++) {
          const r = cards[i].getBoundingClientRect();
          translate += Math.round(r.width);
          if (i < startIndex - 1) translate += gap;
        }
        if (initial) {
          track.style.transition = 'none';
          track.style.transform = `translateX(-${translate}px)`;
          requestAnimationFrame(() => { track.style.transition = ''; });
        } else {
          track.style.transform = `translateX(-${translate}px)`;
        }
      }

      // Enable/disable navigation arrows 
      function updateArrows() {
        prevBtn.disabled = currentPage <= 0;
        nextBtn.disabled = currentPage >= totalPages - 1;
      }

      // Event for previous button
      prevBtn.addEventListener('click', () => {
        if (currentPage > 0) {
          currentPage--;
          updateTrack();
          updateArrows();
          updateDots();
        }
      });

      // Event for next button
      nextBtn.addEventListener('click', () => {
        if (currentPage < totalPages - 1) {
          currentPage++;
          updateTrack();
          updateArrows();
          updateDots();
        }
      });

      // Debounced resize event 
      window.addEventListener('resize', () => {
        clearTimeout(window._eventsResizeTimer2);
        window._eventsResizeTimer2 = setTimeout(() => {
          const oldItems = itemsPerPage;
          const oldPage = currentPage;
          const firstItemIndex = oldPage * oldItems;
          calculateLayout();
          currentPage = Math.floor(firstItemIndex / itemsPerPage);
          updateTrack();
          updateArrows();
          updateDots();
        }, 120);
      });

      // Ensure images are loaded 
      const imgs = track.querySelectorAll('img');
      let imgsLeft = imgs.length;
      if (imgsLeft === 0) {
        calculateLayout();
      } else {
        imgs.forEach(img => {
          // force eager so they load even if offscreen
          try { img.loading = 'eager'; } catch(e){}
          if (img.complete) {
            imgsLeft--;
            if (imgsLeft === 0) calculateLayout();
          } else {
            img.addEventListener('load', () => {
              imgsLeft--;
              if (imgsLeft === 0) calculateLayout();
            });
            img.addEventListener('error', () => {
              imgsLeft--;
              if (imgsLeft === 0) calculateLayout();
            });
          }
        });
        // safety on window load
        window.addEventListener('load', calculateLayout);
      }

      document.addEventListener('DOMContentLoaded', calculateLayout);
      calculateLayout();
    })();

    (function() {
      // Carousel functionality for events section 3
      const prevBtn = document.getElementById('eventsPrev3');
      const nextBtn = document.getElementById('eventsNext3');
      const track = document.querySelectorAll('.events-track')[2];
      const cards = Array.from(track.children);
      const dotsContainer = document.getElementById('eventsDots3');

      let itemsPerPage = 5;
      let currentPage = 0;
      let totalPages = 1;

      // Function to determine number of items per page 
      function computeItemsPerPage() {
        const w = window.innerWidth;
        if (w >= 1400) return 5;  
        if (w >= 1100) return 4;  
        if (w >= 900)  return 3;  
        if (w >= 600)  return 2;  
        if (w >= 400)  return 1; 
        return 1;                 
      }

      // Calculate layout based on current screen size 
      function calculateLayout() {
        if (!cards.length) return;
        itemsPerPage = computeItemsPerPage();
        totalPages = Math.ceil(cards.length / itemsPerPage);

        if (currentPage > totalPages - 1) currentPage = totalPages - 1;
        if (currentPage < 0) currentPage = 0;

        buildDots();
        updateTrack(true);
        updateArrows();
      }

      // Build navigation dots 
      function buildDots() {
        dotsContainer.innerHTML = '';
        for (let i = 0; i < totalPages; i++) {
          const dot = document.createElement('button');
          dot.className = 'dot' + (i === currentPage ? ' active' : '');
          dot.setAttribute('aria-label', 'Go to page ' + (i + 1));
          dot.addEventListener('click', () => {
            currentPage = i;
            updateTrack();
            updateArrows();
            updateDots();
          });
          dotsContainer.appendChild(dot);
        }
      }

      // Update the active state of dots
      function updateDots() {
        const dots = Array.from(dotsContainer.children);
        dots.forEach((d, i) => d.classList.toggle('active', i === currentPage));
      }

      // Get the gap between carousel items from CSS
      function getGap() {
        const gapStr = getComputedStyle(track).gap || getComputedStyle(track).columnGap;
        return gapStr ? parseFloat(gapStr) : 20;
      }

      // Update the track position 
      function updateTrack(initial = false) {
        const startIndex = currentPage * itemsPerPage;
        let translate = 0;
        const gap = getGap();
        for (let i = 0; i < startIndex; i++) {
          const r = cards[i].getBoundingClientRect();
          translate += Math.round(r.width);
          if (i < startIndex - 1) translate += gap;
        }
        if (initial) {
          track.style.transition = 'none';
          track.style.transform = `translateX(-${translate}px)`;
          requestAnimationFrame(() => { track.style.transition = ''; });
        } else {
          track.style.transform = `translateX(-${translate}px)`;
        }
      }

      // Enable/disable navigation arrows 
      function updateArrows() {
        prevBtn.disabled = currentPage <= 0;
        nextBtn.disabled = currentPage >= totalPages - 1;
      }

      // Event for previous button
      prevBtn.addEventListener('click', () => {
        if (currentPage > 0) {
          currentPage--;
          updateTrack();
          updateArrows();
          updateDots();
        }
      });

      // Event for next button
      nextBtn.addEventListener('click', () => {
        if (currentPage < totalPages - 1) {
          currentPage++;
          updateTrack();
          updateArrows();
          updateDots();
        }
      });

      // Debounced resize event 
      window.addEventListener('resize', () => {
        clearTimeout(window._eventsResizeTimer3);
        window._eventsResizeTimer3 = setTimeout(() => {
          const oldItems = itemsPerPage;
          const oldPage = currentPage;
          const firstItemIndex = oldPage * oldItems;
          calculateLayout();
          currentPage = Math.floor(firstItemIndex / itemsPerPage);
          updateTrack();
          updateArrows();
          updateDots();
        }, 120);
      });

      // Ensure images are loaded 
      const imgs = track.querySelectorAll('img');
      let imgsLeft = imgs.length;
      if (imgsLeft === 0) {
        calculateLayout();
      } else {
        imgs.forEach(img => {
          // force eager so they load even if offscreen
          try { img.loading = 'eager'; } catch(e){}
          if (img.complete) {
            imgsLeft--;
            if (imgsLeft === 0) calculateLayout();
          } else {
            img.addEventListener('load', () => {
              imgsLeft--;
              if (imgsLeft === 0) calculateLayout();
            });
            img.addEventListener('error', () => {
              imgsLeft--;
              if (imgsLeft === 0) calculateLayout();
            });
          }
        });
        // safety on window load
        window.addEventListener('load', calculateLayout);
      }

      document.addEventListener('DOMContentLoaded', calculateLayout);
      calculateLayout();
    })();

    // Animation when scrolling 
    const fadeElements = document.querySelectorAll('.fade-in-section');
    const appearOptions = { 
      threshold: 0.2, 
      rootMargin: "0px 0px -50px 0px" 
    };

    const appearOnScroll = new IntersectionObserver(function(entries, observer) {
      entries.forEach(function(entry) {
        if (!entry.isIntersecting) {
          return;
        }
        entry.target.classList.add('visible');
        observer.unobserve(entry.target);
      });
    }, appearOptions);

    // Observe all fade elements
    fadeElements.forEach(function(fader) {
      appearOnScroll.observe(fader);
    });

    // Sticky header functionality
    const headerElement = document.getElementById('header');
    window.addEventListener('scroll', function() {
      if (window.scrollY > 50) {
        headerElement.classList.add('scrolled');
      } else {
        headerElement.classList.remove('scrolled');
      }
    });

    // Play/pause videos on click
    const videos = document.querySelectorAll(".moment-photo video");

    videos.forEach(video => {
      video.addEventListener("click", () => {
        // Pause all other videos
        videos.forEach(v => {
          if (v !== video) {
            v.pause();
            v.parentElement.parentElement.classList.remove("playing");
          }
        });

        // Toggle play/pause
        if (video.paused) {
          video.play();
          video.parentElement.parentElement.classList.add("playing");
        } else {
          video.pause();
          video.parentElement.parentElement.classList.remove("playing");
        }
      });
    });
  </script>

  <script>
    // Zoom overlay functionality for event images
    const zoomOverlays = document.querySelectorAll('.zoom-overlay');
    const zoomImages = document.querySelectorAll('.zoom-overlay img');
    const eventCards = document.querySelectorAll('.event-card img');

    eventCards.forEach(img => {
      img.addEventListener('click', () => {
        const overlay = img.closest('.events-section').querySelector('.zoom-overlay');
        const zoomImage = overlay.querySelector('img');
        zoomImage.src = img.src;
        overlay.classList.add('active');
      });
    });

    zoomOverlays.forEach(overlay => {
      overlay.addEventListener('click', () => {
        overlay.classList.remove('active');
        overlay.querySelector('img').src = '';
      });
    });
  </script>

</body>
</html>
